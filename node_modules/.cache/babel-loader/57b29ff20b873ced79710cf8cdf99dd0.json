{"ast":null,"code":"var _jsxFileName = \"/home/aseel/lab11/can-of-books-frontend/src/BestBooks.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import Jumbotron from 'react-bootstrap/Jumbotron';\n\nimport './BestBooks.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\nimport BookItem from './BookItem';\nimport Modelbook from './Modelbook';\nimport Button from '@restart/ui/esm/Button'; //https://addnewbooks.herokuapp.com/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.get(`https://addnewbooks.herokuapp.com/Book?email=${email}`).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('error');\n      });\n    };\n\n    this.addBook = event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj = {\n        title: event.target.title.value,\n        description: event.target.description.value,\n        email: email,\n        status: event.target.status.value\n      };\n      axios.post(`https://addnewbooks.herokuapp.com/addBook`, obj).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('Error on adding Book');\n      });\n    };\n\n    this.handelShowModel = () => {\n      this.setState({\n        showModel: true\n      });\n    };\n\n    this.close = () => {\n      this.setState({\n        showModel: false\n      });\n    };\n\n    this.deleteBook = id => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.delete(`https://addnewbooks.herokuapp.com/deleteBook/${id}?email=${email}`).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('Error on deleting Book');\n      });\n    };\n\n    this.state = {\n      Books: [],\n      showModel: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Favorite Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This is a collection of my favorite books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handelShowModel,\n        children: \" Add  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(BookItem, {\n        Book: this.state.Books,\n        deleteBook: this.deleteBook\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modelbook, {\n        show: this.state.showModel,\n        handelShowModel: this.handelShowModel,\n        addBook: this.addBook,\n        close: this.close\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withAuth0(BestBooks);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/aseel/lab11/can-of-books-frontend/src/BestBooks.js"],"names":["React","withAuth0","axios","BookItem","Modelbook","Button","BestBooks","Component","constructor","props","componentDidMount","user","auth0","email","get","then","result","setState","Books","data","catch","err","console","log","addBook","event","preventDefault","obj","title","target","value","description","status","post","handelShowModel","showModel","close","deleteBook","id","delete","state","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import Jumbotron from 'react-bootstrap/Jumbotron';\nimport './BestBooks.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\nimport BookItem from './BookItem';\nimport Modelbook from './Modelbook';\nimport Button from '@restart/ui/esm/Button';\n\n//https://addnewbooks.herokuapp.com/\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      Books: [],\n      showModel:false\n\n    }\n  }\n  componentDidMount = () => {\n    const { user } = this.props.auth0;\n    const email = user.email;\n    axios.get(`https://addnewbooks.herokuapp.com/Book?email=${email}`)\n      .then(result => {\n        this.setState({\n          Books: result.data\n        })\n      }).catch(err => {\n        console.log('error');\n      })\n\n  }\n//function addBook\n  addBook = (event) => {\n    event.preventDefault();\n    const { user } = this.props.auth0;\n    const email = user.email;\n    const obj = {\n      title: event.target.title.value,\n      description: event.target.description.value,\n      email:email,\n      status: event.target.status.value\n\n    }\n    axios\n    .post(`https://addnewbooks.herokuapp.com/addBook`, obj)\n      .then(result => {\n        this.setState({\n        Books: result.data\n        })\n      }).catch(err => {\n        console.log('Error on adding Book');\n      })\n  }\n\n\n  //function handelModel\n\n  handelShowModel=()=>{\n    this.setState({\n      showModel:true\n    })\n  }\n//Colse model\n  close = () => {\n    this.setState({\n      showModel: false\n    })\n  }\n\n  // function deleteBook\n  deleteBook = (id) => {\n\n    const { user } = this.props.auth0;\n    const email = user.email;\n    axios\n    .delete(`https://addnewbooks.herokuapp.com/deleteBook/${id}?email=${email}`)\n      .then(result => {\n        this.setState({\n        Books: result.data\n        })\n      }).catch(err => {\n        console.log('Error on deleting Book');\n      })\n  }\n\n\n  render() {\n    return (\n      <>\n        <h1>My Favorite Books</h1>\n        <p>\n          This is a collection of my favorite books\n        </p>\n      <Button onClick={this.handelShowModel}> Add  </Button>\n     \n        <BookItem \n       Book={this.state.Books}\n       deleteBook={this.deleteBook}\n       />\n\n       <Modelbook show={this.state.showModel}\n       handelShowModel={this.handelShowModel}\n       addBook={this.addBook}\n       close={this.close}/>\n      </>\n    )\n  }\n}\n\nexport default withAuth0(BestBooks);\n"]},"metadata":{},"sourceType":"module"}