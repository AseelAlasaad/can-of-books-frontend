{"ast":null,"code":"var _jsxFileName = \"/home/aseel/lab11/can-of-books-frontend/src/BestBooks.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import Jumbotron from 'react-bootstrap/Jumbotron';\n\nimport './BestBooks.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\nimport BookItem from './BookItem';\nimport Modelbook from './Modelbook';\nimport Button from '@restart/ui/esm/Button';\nimport UpdateBook from './UpdateBook'; //https://addnewbooks.herokuapp.com/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.get(`https://addnewbooks.herokuapp.com/Book?email=${email}`).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('error');\n      });\n    };\n\n    this.addBook = event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj = {\n        title: event.target.title.value,\n        description: event.target.description.value,\n        email: email,\n        status: event.target.status.value\n      };\n      axios.post(`https://addnewbooks.herokuapp.com/addBook`, obj).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('Error on adding Book');\n      });\n    };\n\n    this.handelShowModel = () => {\n      this.setState({\n        showModel: true\n      });\n    };\n\n    this.close = () => {\n      this.setState({\n        showModel: false\n      });\n    };\n\n    this.deleteBook = id => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.delete(`https://addnewbooks.herokuapp.com/deleteBook/${id}?email=${email}`).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('Error on deleting Book');\n      });\n    };\n\n    this.handelupdateForm = item => {\n      this.setState({\n        showForm: true,\n        title: item.title,\n        description: item.description,\n        status: item.status,\n        idBook: item._id\n      });\n    };\n\n    this.updateBook = event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj1 = {\n        title: event.target.title.value,\n        description: event.target.description.value,\n        email: email,\n        status: event.target.status.value\n      };\n      console.log(\"fail\");\n      axios.put(`https://addnewbooks.herokuapp.com/updateBook/${this.state.idBook}`, obj1).then(result => {\n        this.setState({\n          Books: result.data,\n          showForm: false\n        });\n      }).catch(error => {\n        console.log('Error on Update Book');\n      });\n    };\n\n    this.state = {\n      Books: [],\n      showModel: false,\n      title: '',\n      idBook: '',\n      description: '',\n      status: '',\n      showForm: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Favorite Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This is a collection of my favorite books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handelShowModel,\n        children: \" Add  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(BookItem, {\n        Book: this.state.Books,\n        deleteBook: this.deleteBook,\n        handelupdateForm: this.handelupdateForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modelbook, {\n        show: this.state.showModel,\n        handelShowModel: this.handelShowModel,\n        addBook: this.addBook,\n        close: this.close\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(UpdateBook, {\n        show: this.state.showForm,\n        close: this.close,\n        title: this.state.title,\n        description: this.state.description,\n        status: this.state.status,\n        updateBook: this.updateBook\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withAuth0(BestBooks);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/aseel/lab11/can-of-books-frontend/src/BestBooks.js"],"names":["React","withAuth0","axios","BookItem","Modelbook","Button","UpdateBook","BestBooks","Component","constructor","props","componentDidMount","user","auth0","email","get","then","result","setState","Books","data","catch","err","console","log","addBook","event","preventDefault","obj","title","target","value","description","status","post","handelShowModel","showModel","close","deleteBook","id","delete","handelupdateForm","item","showForm","idBook","_id","updateBook","obj1","put","state","error","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import Jumbotron from 'react-bootstrap/Jumbotron';\nimport './BestBooks.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\nimport BookItem from './BookItem';\nimport Modelbook from './Modelbook';\nimport Button from '@restart/ui/esm/Button';\nimport UpdateBook from './UpdateBook';\n\n//https://addnewbooks.herokuapp.com/\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      Books: [],\n      showModel:false,\n      title:'',\n      idBook:'',\n      description:'',\n      status:'',\n      showForm:false\n\n    }\n  }\n  componentDidMount = () => {\n    const { user } = this.props.auth0;\n    const email = user.email;\n    axios.get(`https://addnewbooks.herokuapp.com/Book?email=${email}`)\n      .then(result => {\n        this.setState({\n          Books: result.data\n        })\n      }).catch(err => {\n        console.log('error');\n      })\n\n  }\n//function addBook\n  addBook = (event) => {\n    event.preventDefault();\n    const { user } = this.props.auth0;\n    const email = user.email;\n    const obj = {\n      title: event.target.title.value,\n      description: event.target.description.value,\n      email:email,\n      status: event.target.status.value\n\n    }\n    axios\n    .post(`https://addnewbooks.herokuapp.com/addBook`, obj)\n      .then(result => {\n        this.setState({\n        Books: result.data\n        })\n      }).catch(err => {\n        console.log('Error on adding Book');\n      })\n  }\n\n\n  //function handelModel\n\n  handelShowModel=()=>{\n    this.setState({\n      showModel:true\n    })\n  }\n//Colse model\n  close = () => {\n    this.setState({\n      showModel: false\n    })\n  }\n\n  // function deleteBook\n  deleteBook = (id) => {\n\n    const { user } = this.props.auth0;\n    const email = user.email;\n    axios\n    .delete(`https://addnewbooks.herokuapp.com/deleteBook/${id}?email=${email}`)\n      .then(result => {\n        this.setState({\n        Books: result.data\n        })\n      }).catch(err => {\n        console.log('Error on deleting Book');\n      })\n  }\n\n\n  \n\n  handelupdateForm=(item)=>{\n    this.setState({\n      showForm:true,\n      title:item.title,\n      description:item.description,\n      status:item.status,\n      idBook:item._id\n    })\n  }\n\n  //function UpdateBook\n  updateBook=(event)=>{\n    event.preventDefault();\n    const { user } = this.props.auth0;\n    const email = user.email;\n    const obj1 = {\n      title: event.target.title.value,\n      description: event.target.description.value,\n      email:email,\n      status: event.target.status.value\n      \n    }\n    console.log(\"fail\");\n    axios.put(`https://addnewbooks.herokuapp.com/updateBook/${this.state.idBook}`, obj1)\n    .then(result=>{\n      this.setState({\n        Books:result.data,\n        showForm:false\n      })\n    }).catch(error=>{\n      console.log('Error on Update Book');\n    })\n  }\n \n\n  render() {\n    return (\n      <>\n        <h1>My Favorite Books</h1>\n        <p>\n          This is a collection of my favorite books\n        </p>\n      <Button onClick={this.handelShowModel}> Add  </Button>\n     \n        <BookItem \n       Book={this.state.Books}\n      \n       deleteBook={this.deleteBook}\n       handelupdateForm={this.handelupdateForm}\n      \n       />\n       \n\n       <Modelbook show={this.state.showModel}\n       handelShowModel={this.handelShowModel}\n       addBook={this.addBook}\n       close={this.close}/>\n\n\n<UpdateBook \n        show={this.state.showForm}\n       \n        close={this.close}\n        title={this.state.title}\n        description={this.state.description}\n        status={this.state.status}\n        updateBook={this.updateBook}\n        \n        />\n      </>\n\n     \n    )\n  }\n}\n\nexport default withAuth0(BestBooks);\n"]},"metadata":{},"sourceType":"module"}