{"ast":null,"code":"var _jsxFileName = \"/home/aseel/lab11/can-of-books-frontend/src/BestBooks.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import Jumbotron from 'react-bootstrap/Jumbotron';\n\nimport './BestBooks.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios'; // import BookItem from './BookItem';\n\nimport Modelbook from './Modelbook';\nimport Button from '@restart/ui/esm/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.get(`http://localhost:3010/Book?email=${email}`).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('error');\n      });\n    };\n\n    this.addBook = event => {\n      event.preventDefault();\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      const obj = {\n        title: event.target.title.value,\n        description: event.target.description.value,\n        email: email,\n        status: event.target.status.value\n      };\n      axios.post(`http://localhost:3010/addBook`, obj).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('Error on adding Book');\n      });\n    };\n\n    this.handelShowModel = () => {\n      this.setState({\n        showModel: true\n      });\n    };\n\n    this.deleteBook = id => {\n      const {\n        user\n      } = this.props.auth0;\n      const email = user.email;\n      axios.delete(`http://localhost:3010/deleteBook/${id}?email=${email}`).then(result => {\n        this.setState({\n          Books: result.data\n        });\n      }).catch(err => {\n        console.log('Error on deleting Book');\n      });\n    };\n\n    this.state = {\n      Books: [],\n      showModel: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Favorite Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This is a collection of my favorite books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handelShowModel,\n        children: \" Add  \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), this.Book.map(item => /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '18rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: [\" \", item.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [item.description, item.email, item.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => this.props.deleteBook(item._id),\n          children: \" Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 14\n      }, this)), /*#__PURE__*/_jsxDEV(Modelbook, {\n        show: this.state.showModel,\n        handelShowModel: this.handelShowModel,\n        addBook: this.addBook\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withAuth0(BestBooks);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/aseel/lab11/can-of-books-frontend/src/BestBooks.js"],"names":["React","withAuth0","axios","Modelbook","Button","BestBooks","Component","constructor","props","componentDidMount","user","auth0","email","get","then","result","setState","Books","data","catch","err","console","log","addBook","event","preventDefault","obj","title","target","value","description","status","post","handelShowModel","showModel","deleteBook","id","delete","state","render","Book","map","item","width","_id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import Jumbotron from 'react-bootstrap/Jumbotron';\nimport './BestBooks.css';\nimport { withAuth0 } from '@auth0/auth0-react';\nimport axios from 'axios';\n// import BookItem from './BookItem';\nimport Modelbook from './Modelbook';\nimport Button from '@restart/ui/esm/Button';\n\n\n\nclass BestBooks extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      Books: [],\n      showModel:false\n\n    }\n  }\n  componentDidMount = () => {\n    const { user } = this.props.auth0;\n    const email = user.email;\n    axios.get(`http://localhost:3010/Book?email=${email}`)\n      .then(result => {\n        this.setState({\n          Books: result.data\n        })\n      }).catch(err => {\n        console.log('error');\n      })\n\n  }\n//function addBook\n  addBook = (event) => {\n    event.preventDefault();\n    const { user } = this.props.auth0;\n    const email = user.email;\n    const obj = {\n      title: event.target.title.value,\n      description: event.target.description.value,\n      email:email,\n      status: event.target.status.value\n\n    }\n    axios\n    .post(`http://localhost:3010/addBook`, obj)\n      .then(result => {\n        this.setState({\n        Books: result.data\n        })\n      }).catch(err => {\n        console.log('Error on adding Book');\n      })\n  }\n\n\n  //function handelModel\n\n  handelShowModel=()=>{\n    this.setState({\n      showModel:true\n    })\n  }\n\n  // function deleteBook\n  deleteBook = (id) => {\n\n    const { user } = this.props.auth0;\n    const email = user.email;\n    axios\n    .delete(`http://localhost:3010/deleteBook/${id}?email=${email}`)\n      .then(result => {\n        this.setState({\n        Books: result.data\n        })\n      }).catch(err => {\n        console.log('Error on deleting Book');\n      })\n  }\n\n\n  render() {\n    return (\n      <>\n        <h1>My Favorite Books</h1>\n        <p>\n          This is a collection of my favorite books\n        </p>\n      <Button onClick={this.handelShowModel}> Add  </Button>\n\n      {this.Book.map(item=>\n             <Card style={{ width: '18rem' }}>\n             <Card.Body>\n               <Card.Title> {item.title}</Card.Title>\n               <Card.Text>\n               {item.description}\n               {item.email}\n               \n               {item.status}\n               </Card.Text>\n              \n             </Card.Body>\n             <Button variant=\"primary\" onClick={()=>this.props.deleteBook(item._id)}> Delete</Button>\n           </Card>\n          )}\n\n\n\n\n\n       {/* <form onSubmit={this.addBook}>\n          <fieldset>\n            <legend>Add Cat:</legend>\n            <input type='text' name='title' placeholder='title' />\n            <input type='text' name='description' placeholder='description' />\n            <input type='text' name='status' placeholder='status' />\n            <button type='submit'> add</button>\n          </fieldset>\n        </form> */}\n        {/* <BookItem \n       Book={this.state.Books}\n       deleteBook={this.deleteBook}\n       /> */}\n\n       <Modelbook show={this.state.showModel}\n       handelShowModel={this.handelShowModel}\n       addBook={this.addBook}/>\n      </>\n    )\n  }\n}\n\nexport default withAuth0(BestBooks);\n"]},"metadata":{},"sourceType":"module"}